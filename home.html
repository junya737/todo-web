<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{.Title}}</title>
</head>
<body>
  <h1>{{.Title}}</h1>

  <h2>Add a new TODO</h2>
  <form action="/" method="post">
    <input type="text" name="description" placeholder="New TODO">
    <button type="submit">Add</button>
  </form>

  <h2>TODO List</h2>
  <ul>
    {{range .Todos}}
      <li>
        {{.Description}} - 
        {{if .Completed}}
          <strong>Completed</strong>
        {{else}}
          Pending
        {{end}}
        <!-- 完了状態の切り替えボタン -->
        <form action="/" method="post" style="display:inline;">
          <input type="hidden" name="toggle" value="{{.ID}}">
          <button type="submit">Toggle</button>
        </form>
      </li>
    {{end}}
  </ul>
</body>
</html>